<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Notes on bnmoch3</title><link>https://bnmoch3.org/notes/</link><description>Recent content in Notes on bnmoch3</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Thu, 02 Jan 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://bnmoch3.org/notes/index.xml" rel="self" type="application/rss+xml"/><item><title>PostgreSQL to Iceberg Snapshot Sync (Using DuckDB)</title><link>https://bnmoch3.org/notes/2025/postgres-iceberg-sync-duckdb/</link><pubDate>Thu, 02 Jan 2025 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2025/postgres-iceberg-sync-duckdb/</guid><description>Query PG using DuckDB, copy table data into iceberg</description></item><item><title>Arrays, Constraints &amp; Immutable Functions</title><link>https://bnmoch3.org/notes/2024/pg-arrays-constraints-immutable-functions/</link><pubDate>Sat, 28 Dec 2024 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2024/pg-arrays-constraints-immutable-functions/</guid><description>Tightening what kinds of values array columns can hold using constraints and immutable functions</description></item><item><title>Killing a PostgreSQL Connection</title><link>https://bnmoch3.org/notes/2024/pg-kill-connection/</link><pubDate>Mon, 09 Dec 2024 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2024/pg-kill-connection/</guid><description>Let&amp;rsquo;s kill a PG connection</description></item><item><title>PostgreSQL Schemas: Namespacing for Objects</title><link>https://bnmoch3.org/notes/2024/pg-schemas-namespacing/</link><pubDate>Mon, 09 Dec 2024 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2024/pg-schemas-namespacing/</guid><description>For organizing objects in your DB, or setting up multi-tenancy</description></item><item><title>PostgreSQL: Create a Read-only User/Group</title><link>https://bnmoch3.org/notes/2024/pg-create-read-only-group/</link><pubDate>Mon, 09 Dec 2024 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2024/pg-create-read-only-group/</guid><description>Let&amp;rsquo;s create a read only group in PG and add users to it</description></item><item><title>LRU vs FIFO (with Lazy Promotion and Quick Demotion)</title><link>https://bnmoch3.org/notes/2024/lru-vs-fifo/</link><pubDate>Mon, 23 Sep 2024 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2024/lru-vs-fifo/</guid><description>Sprinkling some lazy promotion and quick demotion on FIFO</description></item><item><title>Notes on 'A large scale analysis of hundreds of in-memory cache clusters at Twitter'</title><link>https://bnmoch3.org/notes/2024/large-scale-analysis-caching-twitter/</link><pubDate>Sun, 22 Sep 2024 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2024/large-scale-analysis-caching-twitter/</guid><description>TTLs are prevalent, object sizes are small, metadata overhead can be large, object sizes change, FIFO is better than LRU, you&amp;rsquo;ve got to address memory fragmentation</description></item><item><title>Tiered Storage via 2-Tree</title><link>https://bnmoch3.org/notes/2024/two-tree/</link><pubDate>Mon, 10 Jun 2024 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2024/two-tree/</guid><description>Split a data-structure into two: a memory-optimized &amp;rsquo;top&amp;rsquo;-tree and a disk optimized &amp;lsquo;bottom&amp;rsquo;-tree. Implement a lightweight migration protocol for hot records to move up and cold records down.</description></item><item><title>Pointer Swizzling Buffer Pools</title><link>https://bnmoch3.org/notes/2024/pointer-swizzling/</link><pubDate>Sun, 09 Jun 2024 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2024/pointer-swizzling/</guid><description>Switching pointers as the data pointed to moves to and fro memory and secondary storage</description></item><item><title>Compacting Transactional Data in HyPer</title><link>https://bnmoch3.org/notes/2024/hyper-compaction/</link><pubDate>Sat, 08 Jun 2024 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2024/hyper-compaction/</guid><description>Keep hot tuples uncompressed, organize cold data into chunks of columns then use lightweight compression, handle both OLTP and OLAP workloads</description></item><item><title>Virtual Memory Hot/Cold Data Re-organization for OLTP</title><link>https://bnmoch3.org/notes/2024/efficient-os-paging-hot-cold-db/</link><pubDate>Fri, 07 Jun 2024 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2024/efficient-os-paging-hot-cold-db/</guid><description>Hot/Cold aware memory allocation with locking of the hot region to physical memory and letting the OS swap out cold LRU pages as needed.</description></item><item><title>Offline (but Faster and more Accurate) Classification of Hot and Cold Data</title><link>https://bnmoch3.org/notes/2024/project-siberia-hot-cold-id/</link><pubDate>Thu, 06 Jun 2024 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2024/project-siberia-hot-cold-id/</guid><description>Hint, it&amp;rsquo;s based on exponential smoothing</description></item><item><title>Anti-Caching</title><link>https://bnmoch3.org/notes/2024/anti-caching/</link><pubDate>Wed, 05 Jun 2024 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2024/anti-caching/</guid><description>Track hot/cold data at tuple-level granularity. Evict LRU cold data in blocks.</description></item><item><title>Programmatically creating a DuckDB table from an Arrow schema</title><link>https://bnmoch3.org/notes/2023/duckdb-arrow-data-types/</link><pubDate>Fri, 16 Jun 2023 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2023/duckdb-arrow-data-types/</guid><description>PyArrow lets you create an empty table. Use that instead of custom mappings to create a DuckDB schema.</description></item><item><title>Handling panics from goroutines you've spawned</title><link>https://bnmoch3.org/notes/2023/goroutine-panics/</link><pubDate>Thu, 11 May 2023 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2023/goroutine-panics/</guid><description>It&amp;rsquo;s one thing to handle a panic that&amp;rsquo;s occured within a function. It&amp;rsquo;s an entirely different affair to handle a panic that occured within a goroutine that&amp;rsquo;s been spawned.</description></item><item><title>Benchmarking SQLite inserts</title><link>https://bnmoch3.org/notes/2023/sqlite-benchmarking-writes/</link><pubDate>Sun, 16 Apr 2023 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2023/sqlite-benchmarking-writes/</guid><description>Going from 750 writes per second to 25,0000 with a bit of configuring</description></item><item><title>Getting started with TLA+</title><link>https://bnmoch3.org/notes/2023/getting-started-tla/</link><pubDate>Sat, 14 Jan 2023 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2023/getting-started-tla/</guid><description/></item><item><title>End-to-End Arguments in System Design</title><link>https://bnmoch3.org/notes/2022/end-to-end-arguments-in-system-design/</link><pubDate>Sun, 30 Oct 2022 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2022/end-to-end-arguments-in-system-design/</guid><description>Paper Review</description></item><item><title>Distributed Reference Counting</title><link>https://bnmoch3.org/notes/2022/distributed-reference-counting/</link><pubDate>Sat, 29 Oct 2022 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2022/distributed-reference-counting/</guid><description/></item><item><title>Malloc excess bytes</title><link>https://bnmoch3.org/notes/2022/malloc-excess/</link><pubDate>Thu, 15 Sep 2022 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2022/malloc-excess/</guid><description>Space requested from malloc is a lower bound (at least or more)</description></item><item><title>Go data-structure tricks: google/Btree</title><link>https://bnmoch3.org/notes/2020/go-btree-data-structure/</link><pubDate>Mon, 29 Jun 2020 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2020/go-btree-data-structure/</guid><description>A couple of interesting approaches to concurrency and memory allocation from the Go google/btree package</description></item><item><title>Speeding up unique constraint checks in PostgreSQL... or not</title><link>https://bnmoch3.org/notes/2020/pg-unique-constraints/</link><pubDate>Thu, 28 May 2020 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2020/pg-unique-constraints/</guid><description>Are exclusion constraints using hash indexes faster than plain old uniqueness checks? Let&amp;rsquo;s find out</description></item><item><title>SQL gotcha: now() vs 'now'</title><link>https://bnmoch3.org/notes/2020/sql-gotcha-now/</link><pubDate>Wed, 27 May 2020 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2020/sql-gotcha-now/</guid><description>Make sure you&amp;rsquo;re using the correct defaults when defining columns</description></item><item><title>Bugs From ignoring C Operator Associativity</title><link>https://bnmoch3.org/notes/2020/bugs-c-operator-associativity/</link><pubDate>Thu, 23 Jan 2020 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2020/bugs-c-operator-associativity/</guid><description>Mistakes were made</description></item><item><title>Go Channels Suffice for Synchronization</title><link>https://bnmoch3.org/notes/2020/go-channels-concurrency-sync/</link><pubDate>Tue, 21 Jan 2020 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2020/go-channels-concurrency-sync/</guid><description>Or how to implement Futures/Promises in Go without having to juggle locks and waitgroups</description></item><item><title>Golang Custom Loggers: using Postgres and Leveldb</title><link>https://bnmoch3.org/notes/2019/go-custom-logger-pg-leveldb/</link><pubDate>Fri, 20 Dec 2019 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2019/go-custom-logger-pg-leveldb/</guid><description>Coupling logging to the some destination (in this case Postgres and leveldb) within the application itself isn&amp;rsquo;t by any means a good idea. Still, given the flexibility interfaces in Go provide, why not give it a try ¯\&lt;em>(ツ)&lt;/em>/¯</description></item><item><title>Handling Bank Transactions, V2</title><link>https://bnmoch3.org/notes/2019/sql-bank-txs-v2/</link><pubDate>Thu, 05 Dec 2019 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2019/sql-bank-txs-v2/</guid><description>Version 2 of a simplified Node.js-based API + PG database layer for handling a bank&amp;rsquo;s intra-account transfer operations</description></item><item><title>Handling Bank Transactions, V1</title><link>https://bnmoch3.org/notes/2019/sql-bank-txs-v1/</link><pubDate>Wed, 04 Dec 2019 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2019/sql-bank-txs-v1/</guid><description>Overview of a simplified Node.js-based API + Postgres database layer for handling a bank&amp;rsquo;s intra-account transfer operations</description></item><item><title>Var, Let, Const and the 'commonly' expected behaviour</title><link>https://bnmoch3.org/notes/2019/js-let-const-var/</link><pubDate>Fri, 29 Nov 2019 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2019/js-let-const-var/</guid><description>Javascript quirks and idiosyncracies. Or why learning a new programming language is hard when coming in with implicit assumptions from other languages</description></item><item><title>PG Transactions &amp; Isolation levels: Airline Seat Booking</title><link>https://bnmoch3.org/notes/2019/airline-tx-postgres-isolation-levels/</link><pubDate>Wed, 20 Nov 2019 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2019/airline-tx-postgres-isolation-levels/</guid><description>Using the right isolation level to avoid nasty billing errors when building database-managed booking systems</description></item><item><title>Logging with trace IDs in Node.js - pino, express and cls-hooked</title><link>https://bnmoch3.org/notes/2019/trace-ids-logging-nodejs/</link><pubDate>Tue, 12 Nov 2019 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2019/trace-ids-logging-nodejs/</guid><description>A neat way to add tracing or transaction ids for each request-response cycle with as little modification to the rest of the code as possible</description></item><item><title>Programming Pearls - Array Rotation</title><link>https://bnmoch3.org/notes/2019/array-rotation/</link><pubDate>Thu, 07 Nov 2019 00:00:00 +0000</pubDate><guid>https://bnmoch3.org/notes/2019/array-rotation/</guid><description>Programming, Pearls and a couple of interesting solutions for rotating elements within an array</description></item></channel></rss>